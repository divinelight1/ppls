<link rel="import" href="../../import-elements.html">
<link rel="import" href="../single-name/single-name.html">
<link rel="import" href="../friend-names/friend-names.html">

<dom-module id="all-names">
<style is="custom-style">

	body {
		/* No margin on body so toolbar can span the screen */
		margin: 0;
	}
    app-toolbar {
	    /* Toolbar is the main header, so give it some color */
	    background-color: #1E88E5;
	    font-family: 'Roboto', Helvetica, sans-serif;
	    color: white;
	    --app-toolbar-font-size: 24px;
    }
    .paper-item-link {
    	color: inherit;
    	text-decoration: none;
    }
    ul{
    	padding-left: 0;
    }
	paper-fab{
		position: absolute;
    	right: 10px;
    	bottom: 10px;
    	background: #07ABA0;
	}
	paper-toggle-button.pink {
    --paper-toggle-button-checked-bar-color:  var(--paper-pink-500);
    --paper-toggle-button-checked-button-color:  var(--paper-pink-500);
    --paper-toggle-button-checked-ink-color: var(--paper-pink-500);
    --paper-toggle-button-unchecked-bar-color:  var(--paper-indigo-900);
    --paper-toggle-button-unchecked-button-color:  var(--paper-indigo-900);
    --paper-toggle-button-unchecked-ink-color: var(--paper-indigo-900);
    position: absolute;
    right: 80px;
    top: 392px;
  }

</style>
<template>

	<paper-drawer-panel force-narrow>

		<paper-header-panel drawer>
			<paper-toolbar>
				<div>Menu</div>
			</paper-toolbar>
			<!-- sidebar content  -->
			<div>
				<a class="paper-item-link" href="home" tabindex="-1">
  					<paper-item raised>All Contacts</paper-item>
				</a>
				<a class="paper-item-link" href="home" tabindex="-1">
  					<paper-item raised>Favourite</paper-item>
				</a>
				<a class="paper-item-link"  href="home" tabindex="-1">
  					<paper-item raised>Friends</paper-item>
				</a>
				
			</div>
		</paper-header-panel>
		<!-- main content -->
		<paper-header-panel main>
			<paper-toolbar>
				<paper-icon-button icon="menu" style="color: white;" paper-drawer-toggle></paper-icon-button>
				<div class="title">{{title}}</div>
				<span class="top" flex></span>
				<paper-icon-button icon="search" style="color: white; width: 50px;"></paper-icon-button>
			</paper-toolbar>
			<div>  
			<!-- loop template for all names -->
			<ul>
				<template is="dom-repeat" items="{{contacts}}">
					<single-name contact="{{item}}" on-remove="deleteName"></single-name>
				</template>
			</ul>
			<!-- add new name -->
			<paper-fab icon="add" title="add contact" onclick="animated.open()"></paper-fab>
				<paper-dialog id="animated" with-backdrop>
  				<h2>Add New Contact</h2>
  					<p><paper-input label="Name" value="{{addNew.name}}"></paper-input></p>
  					<p><paper-input label="Last Name" value="{{addNew.surname}}"></paper-input></p>
  					<p><paper-input label="Phone No." value="{{addNew.telephone}}"></paper-input></p>
  					<p><paper-input label="E-mail" value="{{addNew.email}}"></paper-input></p>
  					<p>Male<paper-toggle-button center horizontal checked="{{addNew.avatar}}" class="pink">Female</paper-toggle-button></p>
    				<p>Add to:<br><br>
    				<paper-checkbox checked="{{addNew.favourite}}" class="blue">Favourites</paper-checkbox><br>
    				<paper-checkbox checked="{{addNew.friend}}" class="blue">Friends</paper-checkbox></p><br>
   					<paper-button toggles class="custom green" on-tap="addName">Save</paper-button>
				</paper-dialog>
        	</div>

		</paper-header-panel>

	</paper-drawer-panel>

</template>
<script>

	Polymer ({
		is : 'all-names',
		properties : {
			title : {
				type : String,
				value : 'PPls'
			},
			contacts : {
				type : Array,
				notify : true,
				value: function (){
					return [{name: 'aldin', surname : 'mujkic', telephone : '061402801', email : 'aldinmujkic44@gmail.com', avatar : true, favourite : true, friend : true}];
				}
			},
			addNew : {
					type : Object,
					notify : true,
					value : {name: '', surname : '', telephone : '', email : '', avatar : true, favourite : false, friend : false}
				}
		},
		toggleDialog: function() {
            this.$.dialog.toggle();
        },
        addName : function(){
        	this.push('contacts',{
        		name : this.addNew.name,
        		surname : this.addNew.surname,
        		telephone : this.addNew.telephone,
        		email : this.addNew.email,
        		avatar : this.addNew.avatar,
        		favourite : this.addNew.favourite,
        		friend : this.addNew.friend
        	})
        	this.addNew.name = 'rtshg';
        	animated.close();
        	console.log(this.contacts)
        },
        deleteName : function(e){
        	var name = e.detail;
        	this.splice('contacts', this.contacts.indexOf(name), 1);
        }

	})
</script>
</dom-module>
